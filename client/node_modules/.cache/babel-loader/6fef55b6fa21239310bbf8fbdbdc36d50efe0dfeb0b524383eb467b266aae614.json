{"ast":null,"code":"var _jsxFileName = \"/Users/elanashen/ai-nice-jewish/client/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport \"./App.css\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Role = /*#__PURE__*/function (Role) {\n  Role[Role[\"User\"] = 0] = \"User\";\n  Role[Role[\"Assistant\"] = 1] = \"Assistant\";\n  return Role;\n}(Role || {});\nfunction App() {\n  _s();\n  const [input, setInput] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [AITyping, setAITyping] = useState(false);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setAITyping(true);\n    const query = input;\n    setInput(\"\");\n    setMessages(messages.concat([{\n      role: Role.User,\n      content: query\n    }]));\n    try {\n      await fetch(`/chat/prompt/${encodeURIComponent(query)}`).then(res => res.json()).then(res => {\n        setMessages(messages.concat([{\n          role: Role.User,\n          content: query\n        }, {\n          role: Role.Assistant,\n          content: res\n        }]));\n        setAITyping(false);\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messages\",\n      children: [messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message-bubble ${message.role == Role.Assistant ? \"ai-message-bubble\" : null}`,\n        children: message.content\n      }, `${index}_message`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)), AITyping ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dots\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-field\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          autoComplete: \"off\",\n          placeholder: \"Message\",\n          className: \"chat-field-input\",\n          type: \"text\",\n          id: \"input\",\n          value: input,\n          onChange: e => setInput(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: input.length == 0,\n          className: \"send-chat-button\",\n          type: \"submit\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"qQtvArWmAIUyEZRQzaDlU3PLKno=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Role","App","_s","input","setInput","messages","setMessages","AITyping","setAITyping","handleSubmit","e","preventDefault","query","concat","role","User","content","fetch","encodeURIComponent","then","res","json","Assistant","error","console","className","children","map","message","index","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","autoComplete","placeholder","type","id","value","onChange","target","disabled","length","_c","$RefreshReg$"],"sources":["/Users/elanashen/ai-nice-jewish/client/src/App.tsx"],"sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport { useState } from \"react\";\n\nenum Role {\n  User,\n  Assistant,\n}\n\ninterface Message {\n  role: Role;\n  content: string;\n}\n\nfunction App() {\n  const [input, setInput] = useState<string>(\"\");\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [AITyping, setAITyping] = useState<boolean>(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setAITyping(true);\n    const query = input;\n    setInput(\"\");\n    setMessages(messages.concat([{ role: Role.User, content: query }]));\n\n    try {\n      await fetch(`/chat/prompt/${encodeURIComponent(query)}`)\n        .then((res) => res.json())\n        .then((res) => {\n          setMessages(\n            messages.concat([\n              { role: Role.User, content: query },\n              { role: Role.Assistant, content: res },\n            ])\n          );\n          setAITyping(false);\n        });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"messages\">\n        {messages.map((message, index) => (\n          <div\n            className={`message-bubble ${\n              message.role == Role.Assistant ? \"ai-message-bubble\" : null\n            }`}\n            key={`${index}_message`}\n          >\n            {message.content}\n          </div>\n        ))}\n        {AITyping ? (\n          <div className=\"dots\">\n            <div className=\"dot\"></div>\n            <div className=\"dot\"></div>\n            <div className=\"dot\"></div>\n          </div>\n        ) : null}\n      </div>\n      <div className=\"chat-field\">\n        <form onSubmit={handleSubmit}>\n          <input\n            autoComplete=\"off\"\n            placeholder=\"Message\"\n            className=\"chat-field-input\"\n            type=\"text\"\n            id=\"input\"\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n          />\n          <button\n            disabled={input.length == 0}\n            className=\"send-chat-button\"\n            type=\"submit\"\n          >\n            Send\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}